<div class="root taskbar-{{taskbarPosition}}">
    <app-taskbar></app-taskbar>

    <div class="windowManager" 
        [style.background-image]="'url(' + wallpaper.value?.link + ')'"
    >
            <app-window 
                *ngFor="let window of windowManager.managedWindows"
                [id]="'window_' + window.id"
                [style]="window.customCss"
                [window]="window"
                [data]="window.data"
                (pointerDown)="window.activate()"
                
                [class.native]="window.appId == 'native'"
                [class.dialog]="window._nativeWindowType.includes('DIALOG')"
                [class.resizable]="!window._isCollapsed && !window._isMaximized && window.isResizable"
                [class.draggable]="!window._isCollapsed && !window._isMaximized && window.isDraggable"

                [class.active]="window._isActive"
                [class.draggedOver]="window._isDraggedOver"
                [class.maximized]="window._isMaximized"
                [class.collapsed]="window._isCollapsed"
                [class.borderless]="window._nativeWindow?.attributes?.metadata?.decorations"

                [style.z-index]="window._index"
                [style.width]="window.width + 'px'"
                [style.height]="window.height + 'px'"
                [style.transform]="'translate3d(' + window.x + 'px, ' + window.y + 'px, 0)'"
                >
            </app-window>
        <div class="wallpaper-credits">
            <div [innerHTML]="wallpaper.value?.credit"></div>
        </div>
    </div>
</div>
